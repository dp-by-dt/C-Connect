{% extends 'base.html' %}

{% block title %}{{ user.username }}'s Profile{% endblock %}

{% block body %}


{% if conn is none %}
    <form method="POST" action="{{ url_for('connections.connections_send', target_id=user.id) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <button class="btn btn-primary">Connect</button>
    </form>

{% elif conn.status == 'pending' and conn.user_id == current_user.id %}
    <button class="btn btn-secondary" disabled>Pending</button>

{% elif conn.status == 'pending' and conn.target_user_id == current_user.id %}
    <form method="POST" action="{{ url_for('connections.connections_accept', conn_id=conn.id) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <button class="btn btn-success">Accept</button>
    </form>

    <form method="POST" action="{{ url_for('connections.connections_reject', conn_id=conn.id) }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <button class="btn btn-danger">Reject</button>
    </form>

{% elif conn.status == 'accepted' %}
    <button class="btn btn-outline-success" disabled>Connected</button>

{% endif %}



<div class="container py-4">
    <div class="glass-card p-4 mb-4 animate-on-scroll">
        <h1 class="page-title mb-3"><i class="bi bi-person-circle me-2"></i>{{ user.username }}'s Profile</h1>
        <div class="row">
            <div class="col-md-4 text-center mb-4">
                <div style="width: 150px; height: 150px; margin: 0 auto 1rem; background: linear-gradient(135deg, var(--primary-color), var(--accent-color)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 4rem; font-weight: 700; color: white;">
                    {{ user.username[0].upper() }}
                </div>
            </div>
            <div class="col-md-8">
                <form>
                    <div class="mb-3">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" value="{{ user.username }}" disabled>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>





{% endblock %}

