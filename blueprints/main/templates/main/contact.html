{% extends "base.html" %}

{% block title %}Contact{% endblock %}

{% block extra_css %}
<style>
.contact-container {
    padding: 3rem 0 5rem;
}

.contact-header {
    text-align: center;
    margin-bottom: 4rem;
}

.contact-title {
    font-size: clamp(2.5rem, 5vw, 3rem);
    font-weight: 800;
    margin-bottom: 1rem;
}

.contact-subtitle {
    font-size: 1.125rem;
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

.contact-methods {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    margin-bottom: 4rem;
}

.contact-card {
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
}

.contact-card:hover {
    transform: translateY(-8px);
}

.contact-icon {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    color: white;
    margin: 0 auto 1.5rem;
}

.contact-method-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.contact-method-text {
    color: var(--text-secondary);
    margin-bottom: 1rem;
}

.contact-method-value {
    color: var(--primary-color);
    font-weight: 600;
    font-size: 1rem;
    text-decoration: none;
    transition: color 0.2s;
}

.contact-method-value:hover {
    color: var(--primary-hover);
}

.contact-form-section {
    max-width: 700px;
    margin: 0 auto;
}

.form-card {
    padding: 3rem 2.5rem;
}

.form-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-align: center;
}

.form-description {
    color: var(--text-secondary);
    text-align: center;
    margin-bottom: 2.5rem;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-label {
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
    font-size: 0.9375rem;
}

.form-control,
.form-select {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-md);
    padding: 0.875rem 1rem;
    color: var(--text-primary);
    font-size: 0.9375rem;
    transition: all 0.2s ease;
}

.form-control:focus,
.form-select:focus {
    background: var(--bg-primary);
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    outline: none;
}

textarea.form-control {
    resize: vertical;
    min-height: 150px;
    line-height: 1.6;
}

.submit-btn {
    width: 100%;
}

.faq-section {
    margin-top: 5rem;
}

.faq-title {
    text-align: center;
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 3rem;
}

.faq-item {
    padding: 1.5rem 2rem;
    margin-bottom: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.faq-item:hover {
    transform: translateX(8px);
}

.faq-question {
    font-weight: 600;
    font-size: 1.0625rem;
    color: var(--text-primary);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.faq-answer {
    color: var(--text-secondary);
    margin-top: 1rem;
    line-height: 1.6;
    padding-left: 1rem;
    border-left: 3px solid var(--primary-color);
}

@media (max-width: 768px) {
    .contact-container {
        padding: 2rem 0 3rem;
    }
    
    .contact-header {
        margin-bottom: 2.5rem;
    }
    
    .form-card {
        padding: 2rem 1.5rem;
    }
    
    .contact-methods {
        grid-template-columns: 1fr;
    }
}
</style>
{% endblock %}

{% block body %}
<div class="contact-container">
    <div class="container">
        <!-- Header -->
        <div class="contact-header animate-on-scroll">
            <h1 class="contact-title">
                Get in <span class="text-gradient">Touch</span>
            </h1>
            <p class="contact-subtitle">
                Have questions or feedback? We'd love to hear from you. Choose your preferred way to reach us.
            </p>
        </div>

        <!-- Contact Methods -->
        <div class="contact-methods">
            <div class="contact-card glass-card animate-on-scroll">
                <div class="contact-icon">
                    <i class="bi bi-envelope"></i>
                </div>
                <h3 class="contact-method-title">Email Us</h3>
                <p class="contact-method-text">Drop us an email anytime</p>
                <a href="mailto:support@cconnect.edu" class="contact-method-value">
                    support@cconnect.edu
                </a>
            </div>

            <div class="contact-card glass-card animate-on-scroll">
                <div class="contact-icon">
                    <i class="bi bi-chat-dots"></i>
                </div>
                <h3 class="contact-method-title">Live Chat</h3>
                <p class="contact-method-text">Coming soon</p>
                <span style="color: var(--text-muted); font-size: 0.875rem;">
                    Available Monday-Friday, 9AM-5PM
                </span>
            </div>

            <div class="contact-card glass-card animate-on-scroll">
                <div class="contact-icon">
                    <i class="bi bi-geo-alt"></i>
                </div>
                <h3 class="contact-method-title">Visit Us</h3>
                <p class="contact-method-text">Campus Student Center</p>
                <span style="color: var(--text-muted); font-size: 0.875rem;">
                    Room 301, 3rd Floor
                </span>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="contact-form-section animate-on-scroll">
            <div class="form-card glass-card">
                <h2 class="form-title">Send us a Message</h2>
                <p class="form-description">
                    Fill out the form below and we'll get back to you within 24-48 hours
                </p>

                <form method="POST" action="#">
                    <div class="form-group">
                        <label for="name" class="form-label">Your Name</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="name" 
                            name="name" 
                            placeholder="John Doe"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="email" class="form-label">Email Address</label>
                        <input 
                            type="email" 
                            class="form-control" 
                            id="email" 
                            name="email" 
                            placeholder="john.doe@campus.edu"
                            {% if current_user.is_authenticated %}
                            value="{{ current_user.email }}"
                            {% endif %}
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="subject" class="form-label">Subject</label>
                        <select class="form-select" id="subject" name="subject" required>
                            <option value="">Choose a topic...</option>
                            <option value="general">General Inquiry</option>
                            <option value="bug">Report a Bug</option>
                            <option value="feature">Feature Request</option>
                            <option value="account">Account Issue</option>
                            <option value="feedback">Feedback</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="message" class="form-label">Message</label>
                        <textarea 
                            class="form-control" 
                            id="message" 
                            name="message" 
                            placeholder="Tell us how we can help..."
                            required
                        ></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary-custom submit-btn" onclick="event.preventDefault(); window.cconnect.showToast('Thank you! Your message has been received. We\'ll get back to you soon.', 'success');">
                        <i class="bi bi-send me-2"></i>Send Message
                    </button>
                </form>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="faq-section">
            <h2 class="faq-title animate-on-scroll">Frequently Asked Questions</h2>
            
            <div class="faq-item glass-card animate-on-scroll">
                <div class="faq-question">
                    <span>How do I reset my password?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Click on "Forgot password?" on the login page. You'll receive an email with instructions to reset your password. If you don't receive the email, check your spam folder or contact support.
                </div>
            </div>

            <div class="faq-item glass-card animate-on-scroll">
                <div class="faq-question">
                    <span>Who can see my profile information?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Only verified students from your campus can see your profile. You can control your privacy settings from the Settings page to manage who can view specific information.
                </div>
            </div>

            <div class="faq-item glass-card animate-on-scroll">
                <div class="faq-question">
                    <span>How do I delete my account?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Go to Settings > Danger Zone and click "Delete Account". Please note that this action is permanent and cannot be undone. All your data will be permanently deleted.
                </div>
            </div>

            <div class="faq-item glass-card animate-on-scroll">
                <div class="faq-question">
                    <span>When will messaging be available?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    We're actively working on the messaging feature! It will be released in the next major update. Follow us on social media or check back regularly for updates.
                </div>
            </div>

            <div class="faq-item glass-card animate-on-scroll">
                <div class="faq-question">
                    <span>Is C-Connect free to use?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Yes! C-Connect is completely free for all students. We believe in making campus connections accessible to everyone without any barriers.
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// FAQ Accordion functionality
document.addEventListener('DOMContentLoaded', () => {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        const answer = item.querySelector('.faq-answer');
        const icon = question.querySelector('i');
        
        // Initially hide answers
        answer.style.display = 'none';
        
        question.addEventListener('click', () => {
            // Toggle current item
            const isOpen = answer.style.display === 'block';
            
            // Close all other items
            faqItems.forEach(otherItem => {
                otherItem.querySelector('.faq-answer').style.display = 'none';
                otherItem.querySelector('.faq-question i').style.transform = 'rotate(0deg)';
            });
            
            // Toggle current item
            if (!isOpen) {
                answer.style.display = 'block';
                icon.style.transform = 'rotate(180deg)';
            }
        });
    });
});
</script>
{% endblock %}